<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404NOTFOUND</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>
<body>
<div class="container-fluid">
    <h1 class="text-center alert alert-danger" style="background-image:url('http://due.udn.vn/portals/_default/skins/dhkt/img/front/logo.png'); background-repeat:no-repeat; background-position:left;">QUAN LI BAI THI</h1>
        <div class="row">
            <div class="col-sm-2"></div>

    <div class="container">
        <h2 class="title">DANH SACH SINH VIEN</h2>
            <button class="btn btn-primary float-right mb-2" style="margin-top: -45px;" data-toggle="modal" data-target="#myModal">THEM SINH VIEN</button>
    </div>

<!--    Đoạn code hiển thị messages ở bên file py(Flash) và tự động tắt sau 2 giây-->
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-success alert-dismissable" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="close">
            <span aria-hidden="true">&times;</span>
        </button>
        {{ message }}
    </div>
    {% endfor %}
    <script>
        setTimeout(function () {
            $('.alert').alert('close');
        }, 2000);
    </script>
    {% endif %}
    {% endwith %}

<!--    Thêm sinh viên-->
    <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title text-primary" style="align-content: center;">Please Add New Student</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <form action="./insert" method="POST">
                        <div class="form-group">
                          <label>MA SINH VIEN </label>
                          <input type="text" name="MASINHVIEN" class="form-control" id="MASINHVIEN" placeholder="Enter Ma sinh vien">
                        </div>
                        <div class="form-group">
                            <label>TEN SINH VIEN</label>
                            <input type="text" name="TENSINHVIEN" class="form-control" id="TENSINHVIEN" placeholder="Enter Ten sinh vien">
                        </div>
                        <div class="form-group">
                            <label>NGAY SINH</label>
                            <input type="date" name="NGAYSINH" class="form-control" id="NGAYSINH" placeholder="Enter Ngay sinh">
                        </div>
                        <div class="form-group">
                            <label>SO DIEN THOAI</label>
                            <input name="SDT" type="text" class="form-control" id="SDT" placeholder="Enter SDT">
                        </div>
                        <div class="form-group">
                            <label>LOP</label>
                            <input type="text" name="LOP" class="form-control" id="LOP" placeholder="Enter Lop">
                        </div>
                        <div class="form-group">
                            <label>KHOA</label>
                            <input type="text" name="KHOA" class="form-control" id="KHOA" placeholder="Enter Khoa">
                        </div>
                        <div class="text-center">
                        <button type="submit" class="btn btn-primary mb-2 ">Save</button>
                        </div>
                    </form>
                </div>

            </div>

        </div>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-8 mx-auto">
                <table class="table table-hover">
                    <tr>
                        <th>MASINHVIEN</th>
                        <th>TENSINHVIEN</th>
                        <th>NGAYSINH</th>
                        <th>SDT</th>
                        <th>LOP</th>
                        <th>KHOA</th>
                        <th>ACTION</th>
                    </tr>
                        {% for row in sinhvien %}
                    <tr>
                        <td>{{ row[0] }}</td>
                        <td>{{ row[1] }}</td>
                        <td>{{ row[2] }}</td>
                        <td>{{ row[3] }}</td>
                        <td>{{ row[4] }}</td>
                        <td>{{ row[5] }}</td>
                        <td>
                            <a href="./update/{{row.0}}" class="btn btn-warning btn-sm" data-toggle="modal" data-target="#modaledit{{row.0}}">Edit</a>
                            <a href="./delete/{{ row.0 }}" onclick="return confirm('Are Sure Want To Deleted ?')" class="btn btn-danger btn-sm">Delete</a>
                        </td>
                    </tr>
                    <div id="modaledit{{row.0}}" class="modal fade" role="dialog">
                        <div class="modal-dialog">
                            <div class="modal-content">

                                <div class="modal-header">
                                    <h5 class="modal-title text-primary" style="align-content: center;">update for sinh viên</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>


                                <div class="modal-body">

                                    <form action="{{ url_for('update')}}" method="POST">

                                        <input type="text" name="MASINHVIEN" value="{{row.0}}">

                                        <div class="form-group">
                                            <label>TENSINHVIEN</label>
                                        <input value="{{row.1}}" type="text" name="TENSINHVIEN" class="form-control" id="TENSINHVIEN2" placeholder="ENTER TEN SINH VIEN">
                                        </div>

                                        <div class="form-group">
                                            <label>NGAYSINH</label>
                                            <input value="{{row.2}}" name="NGAYSINH" type="DATE" class="form-control" id="NGAYSINH2" placeholder="ENTER NGAY SINH">
                                        </div>

                                        <div class="form-group">
                                            <label>SDT</label>
                                            <input value="{{row.3}}" name="SDT" type="text" class="form-control" id="SDT2" placeholder="ENTER SDT">
                                        </div>

                                        <div class="form-group">
                                            <label>LOP</label>
                                            <input value="{{row.4}}" name="LOP" type="text" class="form-control" id="LOP2" placeholder="ENTER LOP">
                                        </div>

                                        <div class="form-group">
                                            <label>KHOA</label>
                                            <input value="{{row.5}}" name="KHOA" type="text" class="form-control" id="KHOA2" placeholder="ENTER KHOA">
                                        </div>

                                        <button type="submit" class="btn btn-success mb-2">Update</button>

                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
            </table>
        </div>
    </div>
</div>
</div>
</div>

    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-3.2.1.min.js') }}"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>